# 三、理解和定义业务问题

本章涵盖了对成功至关重要但在数据科学课程或书籍中没有详细讨论的主题。尽管理解和定义业务问题的主题被简单地提到是应该做的事情，但是很少讨论如何正确地完成它。在这一章中，我们将探讨具体的工具和方法，这些工具和方法可用于了解所考虑的系统，并确定需要解决的问题。

这一部分独立于 DataRobot，因为 DataRobot 无法帮助您完成这部分流程。这是数据分析师、业务分析师或数据科学家必须做的事情。正确定义一个业务问题是很难做到的——它不是自动的，而且在大多数情况下也不能正确完成。如果你获得了这项技能，你将变得无价。这是一个关键领域，永远需要有经验的数据科学家(或未来他们的称呼)。

在本章结束时，你将会学到一些你需要知道的核心概念和方法，以确保你正在解决正确的问题。本书的其余部分将解释如何以正确的方式解决这些问题。

在本章中，我们将讨论以下主要话题:

*   了解系统环境
*   了解*为什么*和*如何*
*   找到业务问题的根源
*   定义**机器学习** ( **ML** )问题
*   为负责任的**人工智能** ( **AI** )确定预测、行动和后果
*   运营和创造价值

# 了解系统环境

所有的问题都出现在一个系统的环境中。一个系统可以是一个有机体的一个细胞，一个全球人口，或者整个经济。同样，所有的解决方案都需要适合一个系统。一个技术解决方案(例如，一个人工智能解决方案)通常需要对流程、人员、技能、其他 IT 系统，甚至是业务模型进行更改，以使其有效。对于一个组织来说，这个系统可能是它的整个供应链、竞争对手和客户。鉴于一个系统的定义可能非常宽泛，通常建议你想象一个比你所考虑的问题更宽泛的系统。您希望您的问题涉及的所有组件或代理都是系统上下文的一部分。定义系统边界部分是艺术，部分是科学，这是一个迭代的过程。假设您将从一个更广阔的视角来看待系统，这也意味着相同的系统环境将对多个 ML 项目或用例有效。您在这里获得的理解将在许多项目中产生收益。

可能在某个组织或行业工作过的数据科学家或分析师会直观地了解到问题的许多系统性方面。他们可能认为他们不需要进一步研究这个问题，因为他们已经了解了关键问题。虽然这可能是真的，但人们确实会形成盲点，开始忽略关键的缺失部分，或者进行隐含的假设，这些假设大多是正确的，但有时是错误的。使用结构化的方法来获取系统的理解有助于克服这些问题，同时也确保每个人都从一个共同的理解出发。这些问题通常会导致下游项目的问题或延迟。让我们看看如何通过创建上下文图来建立这种理解。

背景图是系统的高级视图，显示了关键参与者及其交互，如下图所示:

![Figure 3.1 – Context diagram
](img/B17159_03_01.jpg)

图 3.1-环境图

特定的图表惯例并不重要；更重要的是，您理解并记录组件，并理解它们是如何交互的。有许多图表惯例，所以请随意使用您喜欢的一个。确保抓住图表中每个主题的三到五个重要实例。箭头不必是单向的。

当你看这个简单的图表时，你会同意我们应该知道所有这些事情。当您尝试构建这个图表时，您可能会惊讶地发现，查找和捕获这些信息并不是那么简单。组织中的大多数人都会对这些事情有一些概念，但可能无法精确地指定最重要的客户或**关键绩效指标**(**KPI**，等等。在大多数组织中，可能需要一些时间和讨论来将这些整合在一起。图表中的大多数组件都很容易理解，但有些组件有点令人困惑，因此有必要对它们进行一些讨论，如下所示:

*   **关键目标**:关键目标是可衡量的标准，让你决定你是否及时实现了你的目标。这些通常表现为财务表现、市场份额、客户满意度、声誉、质量水平和合规性。重要的是要有精确和可测量的定义，并与组织的目标保持一致。这些代表了组织的真正价值，理解您的项目和模型如何影响它们是很重要的。
*   **外部驱动因素/风险**:这些是影响关键目标但不受你控制的外部因素或驱动因素。请注意，我们不是在讨论特定的事件，而是可能被视为事件的因素值的变化——例如，因素可能是**国内生产总值** ( **GDP** )的变化。这不是我们所能控制的，而-20%的值可能意味着金融崩溃。因此，在这种情况下，我们的驱动力是 GDP 的变化，而不是金融危机。
*   **Key decision levers**: These are also drivers that impact key objectives, but they are in our control. For example, the number of employees is a factor that is in our control (as we can decide how many to hire) and it will have an impact on outcomes. Other examples could be how much to invest in new technology or in marketing, and so on. These could be strategic decisions or choices, such as creating a new distribution channel, bundling products, and so on. Regardless of type, the important thing to remember is to make sure that the idea is captured in a precise way—for example, if a new distribution channel is a driver, you should know what the five actual choices are.

    注意事项

    请不要陷入哲学辩论。根据需要，快速创建图表的第一个迭代，并在将来对其进行优化。继续进行初稿是可以的，因为你的分析可能会提供信息并改变当前的想法。

您可能已经猜到了，强调这三项的原因是，关于它们的历史数据对于任何数据科学项目都至关重要。您也会同意，关于这些因素的数据对于运营和战略决策至关重要，但您可能会发现这些数据可能不容易获得，或者可能存在质量问题。此外，要特别注意关键的知识库。这些将是包含组织数据的数据库、数据仓库、数据湖或文件系统。我们将在下面的小节中再次讨论这些项目。

现在我们已经了解了上下文，我们想要了解我们的系统是如何运行的，以及为什么它会以某种方式运行。这两个方面对于理解系统都是至关重要的。在下一节中，我们将描述如何建立这种理解。

# 了解原因和方法

理解系统的功能及其行为的关键在于以下方面:

*   **流程**:对象和信息是如何在系统流程中流动的？
*   **交互**:系统的不同实体或组件之间是如何交互的？
*   **状态**:一个实体的状态如何随时间演化？
*   **因果**:有哪些因果关系？

这些方面中的每一个都通过图表来表示。流程建模、因果建模和交互图有许多图表惯例。这些约定在不同的领域有不同的用法。你可以遵循任何你喜欢或已经熟悉的惯例。在本书中，我们将遵循适用于计算建模的某些约定。这意味着这些图表可以与数据结合，并转化为可用于分析的模型。这在我们项目的后期会变得很重要。关于如何创建这些图表并将其转化为计算模型的深入细节超出了本书的范围，但是如果您感兴趣，您可以寻找其他资源来了解这些技术。即使你不创建计算模型，这些图表也会提供有用的见解，你将能够在你的 ML 项目中使用。您的组织中可能有人构建或者已经构建了这样的图。您应该找到这些人，并在构建这些图表时寻求他们的帮助。让我们更详细地看一下这些方面。

## 流程图

在一个组织的运作中，有几个功能有明确定义的流程。对象、人员或信息流通过这些流程，如下图所示:

![Figure 3.2 – Process diagram
](img/B17159_03_02.jpg)

图 3.2–流程图

根据系统上下文，您已经知道了组织中最重要的流程。您可以开始为这些关键流程构建图表，或者至少是与您的项目相关的图表。构建端到端的流程流非常重要——例如，整个客户旅程，或者产品的整个开发过程。从客户的角度理解流程(灰框)而不仅仅是内部流程(白框)也很重要。确保捕捉故障点或返工路径，或者流程可能突然结束而不是正常完成的地方。当实体在这些过程中流动时，做出的决定或计算可能是候选的 ML 问题。不管你从哪个项目开始，在这个过程中发现其他潜在的机会都是一个好主意。结果可能是，以不同的方式看待过程，或者构建不同的 ML 模型，可以提供更大的好处，或者可以取代当前项目的需求。不管事实是否如此，获取这些信息是非常重要的。顺便问一下，您是否注意到在前面的流程图中，客户没有收到拒绝消息？可以想象，这是客户体验中被忽略的一个重要部分。我确信错误会在某个时候被发现，但是使过程清晰会增加更快发现错误的几率，并且在构建模型时考虑到它。

除了构建图，获取关于流程的数据也很重要。您经常会遇到这样的情况，有人已经构建了一个流程图，但是没有获取任何数据。如果你正在读这本书，那么我不需要告诉你收集数据对于准确理解这个过程有多重要。要捕获的典型信息是流经每个步骤的对象的数量和类型、每个步骤所用的时间、每个步骤所需的工时和资源、采用特定路径的概率、质量指标等等。如果没有为关键流程捕获此类信息，那么尽快开始收集此类信息非常重要。这些信息对于为您的项目构建一个业务案例是至关重要的，可以作为模型中有用的特性，并有助于识别可能隐藏的问题。

需要再次注意的是，您不希望陷入术语争论，而是快速创建一个足以帮助您理解流程中发生的事情的图表，而不是一个包含每个细微差别的非常详细的视图。如果需要更详细地了解流程的某些特定方面，可以重新讨论这个问题。

实际流程通常比我们在图 3.2 中展示的要复杂一点，但也不会复杂太多，而且发现一些不为执行这些任务的特定部门之外的许多人所知的事情并不罕见。以我的经验来看，没有一个人了解整个过程也是很常见的。通过突出关键问题，该练习本身可能是有价值的，但对于数据科学团队构建模型以自动化该过程的某个部分来说尤其有价值，然而我很惊讶地看到有多少次数据科学团队在不理解该过程的情况下构建模型。

## 交互图

在一个系统中有许多不遵循固定过程的相互作用。这些交互可以以不同的顺序发生，需要保持灵活性，最好通过交互图来理解。你们中有软件开发背景的人可能熟悉这种显示软件组件或对象之间交互的图表。在我们的案例中，我们有兴趣了解系统中关键参与者之间的交互，如下图所示:

![Figure 3.3 – Interaction diagram
](img/B17159_03_03.jpg)

图 3.3–交互图

图中显示了一个市场，几个竞争者正在销售他们的产品。顾客来到这个市场购买产品。竞争者花钱在各种媒体渠道上为他们的产品做广告，并定价。消费者受到广告、定价和其他消费者的口碑的影响。在任何给定的时间，许多这样的相互作用正在发生，创造了一个复杂和动态的环境。如果你正在建立一个定价模型，你必须考虑到所有这些，否则你的模型将显示出很好的数据拟合，但在操作过程中将被证明是无效的。

请注意，关键参与者可以是个人、组织、机器人、市场、欺诈者等等。构建这个图和其他图背后的想法是整理和明确你所知道的。这使得每个人都能分享系统的共同观点，质疑假设或指出缺失的信息。确保将这些图表视为需要用数据进行测试的假设也很重要。你必须不断地问数据是否支持我们在这些图表中所说的。如果不是，那么也许您的假设需要改进，或者您可能有丢失的数据或其他数据质量问题。也许数据收集有偏差。我相信你听说过这样的故事，有偏见的数据是如何被用来做预测的，结果证明是完全错误的。构建图表并不能保证您会捕捉到有偏差的数据，但它确实提高了您捕捉到这些数据的几率。

## 状态图

状态图捕捉系统中一些重要实体或参与者的状态演变。典型的候选者是客户和产品。与其他图一样，您只为系统中重要或关键的参与者构建这些图。

这里可以看到一个示例状态图:

![Figure 3.4 – State diagram
](img/B17159_03_04.jpg)

图 3.4-状态图

状态图在概念上非常类似于**马尔可夫链**(这个概念代表了系统从一种状态转移到另一种状态的概率，这种概率是固定的，不依赖于任何先前的历史)，除了在状态图中你不必假设历史无关紧要。为特定代理建立状态图。*图 3.4* 显示了一个人随着时间推移经历不同状态的状态图。箭头代表从一个状态到另一个状态的转换，人停留在给定的状态，直到他们转换到下一个状态。通常假设这种转变是瞬时的。您也可以根据转移概率来考虑转移(在这种情况下，它开始类似于马尔可夫链)。在某种意义上，图可以是分层的，状态可以分解成子状态，并且这些子状态可以通过转换相互连接。

除了构建图表之外，您还想了解是什么导致了转换的发生。是确定性的还是随机性的？您还希望收集关于这些转换发生的频率和时间的数据，因为这些数据对于进一步的分析以及构建 ML 模型非常有用。一个参与者的转换可能导致另一个参与者的状态转换，因此状态图也连接到交互图。每个转换都是 ML 模型的潜在候选者，在 ML 模型中，您可以使用数据来预测转换何时(以及哪一个)可能触发。正如您所想象的，构建这些图表将有助于识别可能会错过的机会。

使用这些图，你现在已经了解了一个系统是如何运作的。我们现在准备看看是什么决定了一个系统的行为。

## 因果图

因果图旨在捕捉我们对系统中存在的因果关系的理解。这种理解可能正确，也可能不正确。事实上，你可能永远无法证明因果关系。撇开哲学辩论不谈，通过使用本节概述的方法，结合数据，你可以大大提高你的理解。

这里可以看到一个因果图示例:

![Figure 3.5 – Causal diagram
](img/B17159_03_05.jpg)

图 3.5-因果图

上图显示了住房市场中的关系(这只是一个例子，并没有显示所有的因果影响)。它说，随着利率上升，房屋销售下降。房屋销售也受到需求和价格的影响。随着价格的上涨，价格的上涨可以增加需求，因为更多的人想买房赚钱，但价格本身是一种威慑。你可以看到在这个简单的图表中存在着相反的效果和反馈回路。难怪动态让我们困惑，这经常导致系统失控。每个人都认为自己理解住房市场的运作方式，但在复杂的动态面前，真正的理解很难实现。类似的动态在许多商业情况下也在发挥作用。建立一个 ML 模型来预测房价很容易，但要理解整体动态就困难得多。这种缺乏理解的情况会导致你使用优秀的 ML 模型做出错误的决定，因此建立这样的模型对于理解你试图解决的问题的本质是至关重要的。这样的图表对于理解和处理混杂变量和反事实分析也是有用的。

还有一种来自系统动力学学科的因果模型的表示法。这种表示将其他图中的一些想法与因果图结合起来，以创建一个非常有洞察力的视图，并且可以很容易地转化为动态模拟模型。系统动力学本身是一个庞大的学科，有许多关于这个主题的好书和论文[Sterman]。在这里，我将只介绍这个概念和它的样子，以及它如何有用。下面是一个系统动态(也称为存量和流量)图示例:

![Figure 3.6 – System dynamics (stock and flow) diagram
](img/B17159_03_06.jpg)

图 3.6-系统动态(存量和流量)图

该图将状态图、流程图和因果图中的想法捕捉到一个非常有指导意义的复合视图中。想象一个产品改变状态的过程，从*原始产品*到*成品*。在这种情况下，每个盒子代表一个产品在特定状态下的数量——例如，**组装产品**盒子代表所有已经组装好的产品，现在正等待成为*成品*。这种情况发生的速率称为*完成速率*。完工率取决于有多少装配工可以完成这项工作。你也会注意到一些组装好的产品被证明是有缺陷的。这些产品以称为*不良率*的速度流入**不良产品**箱。然后这些必须由修理工修理。由于存在缺陷，运输目标未能实现，出现短缺。这种短缺增加了员工的压力，从而增加了工作倦怠。倦怠反过来减少了装配工的数量(他们辞职或生病)。由于装配工的数量减少了，这就降低了完工速度。这反过来增加了压力，更多的人转而成为维修人员，因为维修可以更快地完成。这使得没有人作为预防者工作，并导致恶性循环继续，该过程变得越来越积压。

这种动态在许多组织中上演，他们想知道为什么他们总是处于压力之下。一旦图表被展示出来，你可以看到问题是他们正在修复症状而不是缺陷的根本问题。在这个简单的图中很容易看到，但是在更复杂的情况下，您可以运行这些图的模拟来找到问题点。该图还有助于阐明流程、决策和业务目标之间的关系。可以模拟这些图来理解决策的业务影响，以及部署 ML 模型的影响。这是一个很好的方式来展示你的努力的价值，以一种大多数人可以很容易理解的方式。

现在，让我们回到 ML。如果这个分析没有完成，那么缺陷修复很有可能会被标记为一个问题，并且很有可能您将会构建一个模型来预测将会产生多少缺陷或者预测将会有多少产品被发运。您将构建一个伟大的模型，但这并不能解决问题。关键问题是找出是哪些因素导致了缺陷，以及如何减少缺陷。这将需要制造团队与数据科学团队密切合作，以找到解决方案。同样，关键的一点是，除非有人进行这种分析，否则数据科学团队很可能正在解决错误的问题。你可能认为这种情况不常发生，但是我认为这种情况比你想象的要多得多，因为真正的问题经常被隐藏很长时间。

一般来说，最好把你在这些图中画出的每一个因果关系都当做一个假设。该图代表了一组假设。有统计和模拟方法可以用来验证这些假设。为此，您需要开始收集数据或开始发现数据存储的位置。现在我们已经了解了这些图表，让我们看看如何找到问题的根源。

# 找到业务问题的根源

有些问题很容易解决，而另一些问题则证明要困难得多。发生这种情况的原因之一是，当一个问题的症状出现在其他地方并经过一段时间后，就很难知道问题到底出在哪里。根据定义，症状是清晰可见的——它们是显而易见的，您可以轻松地收集关于它们的数据。另一方面，潜在的问题发生在其他部门或建筑中，并且不可见，因为它没有引起直接的痛苦。最有可能的是，没有收集到关于根本问题的数据，或者可能很难收集到这些数据。鉴于多发性硬化症的性质，几乎可以肯定的是，你得到的所有数据都是关于症状的。如果幸运的话，您还可能获得一些关于根本问题的数据(尽管您可能不知道)。

开始的方法之一是使用一种叫做*五个为什么*的老方法，它基本上包括问问题*为什么？*五次才能找到根本原因。很多时候，每一层都可能有多种原因。因此，实际上，许多人使用另一种叫做*鱼骨图*到的图表来捕捉这些信息，如下图所示:

![Figure 3.7 – Fishbone diagram
](img/B17159_03_07.jpg)

图 3.7-鱼骨图

在前面的鱼骨图示例中，我们试图理解为什么我们会有软件缺陷问题。当你问*为什么*的问题并抓住原因时，你开始添加潜在的原因。你继续这个过程，直到你觉得你抓住了问题的本质。正如你所看到的，这部分是一个因果图，可以作为为你的系统建立一个因果模型的起点，同时保持对一个特定问题的关注。然后可以收集数据来确认或拒绝这些假设。正如所见，这个鱼骨图将告知我们在*图 3.6* 中看到的系统动力学图。该练习的关键点是了解根本原因并着手解决。我希望你开始明白，准确地预测某件事并不总是等同于解决真正的问题，为了你的项目成功，你必须小心设置你的 ML 问题。此外，请注意，导致问题的原因可能有多种，您可能需要解决多个问题才能看到问题的显著缓解。另一方面，只解决一个方面(比如说，员工的倦怠)而不了解全貌可能会让你得出结论，倦怠不是一个问题。在组织中，得出错误的结论并融入到组织的神话中并不少见—“*我们已经尝试过了，但没有成功。*”

现在我们已经确定了需要解决的业务问题，让我们看看如何将它转化为一个 ML 问题。

# 定义 ML 问题

在我们进入 ML 的细节之前，重要的是要注意到并不是所有的问题都适合用 ML 来解决。对于一个好的候选问题，它应该具有以下特征(我们现在只关注**监督学习** ( **SL** )问题):

*   有一个明确的目标或标签值，如果算法可以预测它，这将是有用的。在没有算法的情况下，这个值仍然是未知的，需要人的判断，或者需要大量的努力来确定。有时，目标并不是真正感兴趣的变量，而是计算的关键部分。这一部分并不总是显而易见的，但是你在本章前几节所做的问题分析肯定会有助于澄清哪个变量是最佳目标。
*   您可以访问足够大的历史数据集，其中包含您希望预测的目标或标签的值。您需要创建一个包含相关数据的数据源列表，并开始理解它们包含的数据。
*   确定哪种类型的 SL 问题最适合你的问题(回归、分类或时间序列)。有时候，你可以把一种类型的问题转换成另一种类型。
*   在准确性、可解释性和可理解性之间通常有一个权衡。对你来说，考虑什么对你的业务问题更重要是很重要的。在许多情况下，我们愿意牺牲准确性来提高可理解性。这反过来决定了你应该选择哪种算法和哪种解释方法。

您将不得不审查您的数据集和业务问题定义，以查看您是否可以制定一个规范，以满足前面列出的条件。在此过程中，可能需要执行一些转换，例如:

*   Transform the target such that it is more valuable as an output or better suited to solve the business problem. Take the following examples:

    (a)如果数字目标值的范围很大，或者分布具有很高的偏斜度，则可以尝试将该目标记录为新目标。

    (b)如果实际值不如范围重要，则可以创建容器，并将容器中的值用作目标值。

    (c)有时，价值或变化率的变化会成为更好的目标。

*   Create interaction features based on the causal diagrams. Take the following examples:

    (a)因果模型中的中间变量，这些变量不能直接观察到，但可以通过结合各种其他特征进行计算。

    (b)如果您的目标是日志形式，那么创建各种特性的日志可能是有意义的。

    (c)类似地，如果箱在业务问题中具有特殊意义，您可能想要对某些特征进行分类。

    (d)探索创建变化率特征对您的模型是否重要。

*   识别在因果图中出现但在数据集中不存在的缺失数据。根据重要性和获取它的难易程度，您可能希望在构建模型之前收集它。另一种选择是在使用您已经拥有的数据构建模型的同时开始数据收集过程。在后一种情况下，当您收集了数据后，您总是可以在下一次迭代中重新访问模型。

此外，您还必须考虑如何定义和评估错误。哪个指标最适合该问题？我们在 [*第二章*](B17159_02_Final_NM_ePub.xhtml#_idTextAnchor039) 、*机器学习基础知识*中讨论了度量标准，DataRobot 会自动为问题挑选一个合适的度量标准。我发现大部分时候选择都很好，所以除非你有很好的理由不这样做，否则接受推荐是个好主意。除了度量标准之外，您还需要考虑是否更关心特定范围内的误差，而不是其他范围内的误差，例如，您可能希望某个特性的高值范围比低值范围更精确。在这种情况下，您可以考虑使用这个数字特征(必须是非目标特征)作为计算误差度量的权重。您可以在**附加**选项卡中的**高级选项**下找到该设置，如下图所示:

![Figure 3.8 – Additional options
](img/B17159_03_08.jpg)

图 3.8–附加选项

前面的屏幕截图显示了选择一个特征作为预测权重的选项。请注意，这必须在项目开始时设置。一旦开始构建模型，就不能更改此设置。

一旦定义了 ML 问题，DataRobot 就会开始构建模型。我们将在后面的章节中讨论这一点。现在，我们想要讨论当模型被建立并且现在能够生成预测时会发生什么。

# 确定负责任的人工智能的预测、行动和后果

在 DataRobot 中建立和部署了模型之后，它可能看起来我们的工作已经完成了——但是没有那么快。您应该开始分析预测概要文件是什么样子的，并开始与用户和利益相关者讨论要采取的行动的细节。您帮助构建的模型可能会在您的系统中引入许多变化，并且会影响其他人。因此，重要的是要努力确保这些影响不是负面的。确保你的模型不会造成伤害被称为负责任的人工智能。这将基于您在理解阶段通过各种图表所做的工作。

正如在前面的章节中我们看到了因果图如何帮助您将特性与目标联系起来，我们也可以看到目标如何影响系统的其他部分。图表应揭示目标如何影响关键目标或结果；它还应该揭示将改变系统其余部分行为的关键反馈循环，以及给出其他后果的暗示。这使得从你的模型中理解和计算投资回报率相对简单。数据科学团队表达的一个常见挑战是，他们发现很难表达模型的影响。正如您现在所看到的，我们从因果的角度来理解我们的系统的工作也有助于确定模型的业务影响。

常见的情况是，大多数系统都不提供免费的午餐——总会有取舍。你的行为可能会改善一个目标，但可能会伤害另一个目标。理解这些权衡是非常重要的，并且确保你的涉众也理解它们。很有可能，即使该模型将提供一个正的 ROI，它也可能导致其他方面的性能下降，因此您可能不想继续使用它。其中一些后果可能是在监管或道德问题领域。这些领域经常被忽视，只是在后来的某个时间点才(痛苦地)被发现。进行这种分析的一个主要好处是确保你能更早地发现任何问题。

另一种经常使用的机制是模拟系统动态图。这可以让你了解你的系统的动态行为，并可以作为一个虚拟实验。虚拟实验或模拟让您在启动模型之前，在安全的环境中测试不同的策略。这不仅有助于您避免代价高昂的错误，还可以建议改进措施或策略来进一步优化收益。许多数据科学项目不成功的原因是数据科学团队很少这样做，通常不具备进行这种分析的技能，并且历史上没有非常认真地对待这一部分。让我们来看一个简单的例子，在一个系统中的一个 ML 模型:

![Figure 3.9 – Impact analysis
](img/B17159_03_09.jpg)

图 3.9-影响分析

在本例中，您有一个价格促销模型，它使用一些功能来生成促销价格。该模型监控销售并相应地更新价格。由于某种原因(数据库更新、批准等)，在电子商务网站上更新这些价格会有延迟。这造成了销售数据的滞后，而建模团队并不知道这一点，因为建模团队并不了解整个流程以及在网站上更新价格需要多少时间。如果你对这个简单的图表进行分析，你会发现这种有延迟的反馈回路会产生振荡行为。这意味着价格总是会下降——有时高，有时低。这种行为与您在大多数模型结果中看到的行为有些相似，因此完全有可能会错过这种效果。即使模型本身很好，系统的表现也会很差。为了说明一点，我把这个例子保持得非常简单。你可以想象，如果情况更复杂，大多数人在发现问题时已经太晚了。

另一方面，你也可以评估与现状相比，你的模型会对销售产生多大的影响。这是展示你工作的投资回报率和商业价值的好方法。由于基于这些图表的模拟是你的业务的可视化表示，大多数人发现它比叙述或电子表格更容易理解。这也有助于你的 ML 模型被接受。

虽然 DataRobot 在许多方面没有帮助，但它确实提供了一些机制来确定你的模型是否与任何受保护的功能一起存在偏差，并测量模型中存在的偏差量。这与前面的分析相结合，可以很好地确保您的模型没有偏见，并且结果不会以违背您组织的价值观的方式使用。既然我们对模型的预期结果感到满意，我们就可以开始部署过程了。

# 运营和创造价值

在您的基础设施中实施一个模型可能是一项复杂的任务。DataRobot 简化了部署的某些方面，但是部署的其他部分超出了 DataRobot 的范围，可能相当具有挑战性。让我们讨论一下这个过程中的任务，如下所示:

*   **将模型部署为应用程序编程接口(API)** :首要任务之一是将模型部署为 API，这样它就可以根据需要提供预测服务。您必须决定这是需要批处理还是实时操作。DataRobot 自动完成了设置的大部分任务，您可以在几分钟内使用 API 进行预测。
*   **与业务系统的集成和测试**:拥有一个 API 只是故事的一部分——你现在需要将这个 API 集成到你的业务系统中。有时，您可以通过独立的 Excel 文件或网页向用户提供预测，但是对于许多用例来说，需要集成。这有时会耗费时间和精力，并会减慢速度。许多组织开始使用的另一个潜在途径是**机器人流程自动化** ( **RPA** )。DataRobot 提供了与几个 RPA 工具的集成，如果您的用例适合 RPA 实施，这些工具可以加快集成过程。
*   构建最终用户界面:如果你的用例要求完全自动化，这是不需要的，但是大多数用例会有一定程度的用户参与。集成已经不存在了，您仍然需要某种方式让用户与预测进行交互并做出适当的决策。你需要考虑用户将如何适应新的业务方式，以及如何让这种体验尽可能地顺畅。事实上，在许多用例中，预测是专门为减少现有流程中的摩擦而设置的。
*   **用户培训**:确保你正在为那些工作流程受到新模式影响的用户计划并准备提供培训。创建培训并提供这种培训是提高模型采用率和接受度的好方法。很多时候，这是事后才想到的，会导致延迟或降低接受度。
*   用户接受和变更管理:这通常是一个持续的过程。从一开始就让用户和利益相关者参与进来通常是个好主意。如果用户觉得他们的声音被听到了，这将提高被接受的机会。用户还可以帮助避免数据科学团队自己无法发现的潜在问题。经常交流你为什么做这个项目，它如何影响用户，以及他们的工作将如何改变(希望是更好的)都是提高你成功几率的好策略。与用户一起构建前面列出的图表是开始这种对话的一个很好的方式，并且最终会增加业务的价值。如你所见，一个模型的建立要实现价值，前后要发生很多事情。难怪项目常常不能成功地增加价值。
*   **模型监控和维护**:一旦模型可以运行，您将需要建立监控预测服务和性能的机制。随着时间的推移，性能往往会下降，或者您可能希望提高模型的性能。这需要用新数据更新或重新训练模型。幸运的是，DataRobot 使这些任务变得非常容易，因为它提供了设置模型的监控和再训练的机制。

# 总结

在这一章中，我们介绍了一些工具和方法来帮助您了解您的系统和您试图解决的业务问题。即使对于经验丰富的数据科学家来说，其中一些方法也是新的或陌生的，但是花时间将它们内在化并在您的项目中实践它们是很重要的。考虑到时间压力，有些内容会觉得没有必要。这是 DataRobot 等工具有益的原因之一，因为它们减少了您需要花费在重复任务上的时间，并允许您专注于工具无法完成的事情。

希望我已经让您相信，数据科学团队的组合更注重于理解问题，并使用自动化工具来完成一些模型构建和调优任务，从而为组织提供了最佳价值。当我们准备在组织中操作模型时，这里完成的许多工作也将在项目结束时派上用场。具体来说，在这一章中，我们学习了如何理解更广泛的系统环境，系统如何运行，以及为什么它会以某种方式运行。我们还看到了如何找到业务需要解决的根本问题，并将业务问题转化为可以用 ML 解决的形式。然后，我们学习了如何确保解决方案解决了正确的问题，并且不会产生意想不到的副作用。

最后，我们学习了如何确保解决方案被涉众接受，并得到可操作化，从而实现业务价值。

我们现在准备开始使用一些示例数据集，并开始使用 DataRobot 来帮助解决我们发现的业务问题和我们定义的 ML 问题。

# 延伸阅读

*   *因果关系:模型、推理和推论，第二版*，朱迪亚·珀尔，剑桥大学出版社。
*   商业动态:复杂世界的系统思考和建模。